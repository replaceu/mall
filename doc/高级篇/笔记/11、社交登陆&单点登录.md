# 一、社交登陆

QQ、微博、github等网站的用户量非常大，别的网站为了简化自我网站的登陆与注册逻辑，引入社交登陆功能；

![image-20200903084019739](./assert/image-20200903084019739.png)

## 流程

1）、用户点击QQ按钮

2）、引导跳转到QQ授权页

3）、用户主动点击授权，跳回之前网页。

# 二、OAuth2.0

-   OAuth（开放授权）是一个开放标准，允许用户授权第三方网站访问他们存储在另外的服务提供者上的信息，而不需要将用户名和密码提供给第三方网站或分享他们数据的所有内容。

- **OAuth2.0****：**对于用户相关的OpenAPI（例如获取用户信息，动态同步，照片，日志，分享等），为了保护用户数据的安全和隐私，第三方网站访问用户数据前都需要显式的向用户征求授权。

- 官方版流程：

  ![image-20200903084030653](./assert/image-20200903084030653.png)



（A）用户打开客户端以后，客户端要求用户给予授权。

（B）用户同意给予客户端授权。

（C）客户端使用上一步获得的授权，向认证服务器申请令牌。

（D）认证服务器对客户端进行认证以后，确认无误，同意发放令牌。

（E）客户端使用令牌，向资源服务器申请获取资源。

（F）资源服务器确认令牌无误，同意向客户端开放资源。

<img src="./assert/image-20200903084259740.png" alt="image-20200903084259740" style="zoom:50%;" />

1、使用Code换取AccessToken，Code只能用一次 

2、同一个用户的accessToken一段时间是不会变化的，即使多次获取

## 1、微博登陆准备

网址： https://open.weibo.com/

1、[接入流程](https://open.weibo.com/wiki/网站接入介绍) ： https://open.weibo.com/wiki/网站接入介绍

2、[授权机制](https://open.weibo.com/wiki/授权机制 ) : https://open.weibo.com/wiki/授权机制



![image-20200903151201588](assert/image-20200903151201588.png)